{
  "test_id": "550e8400-e29b-41d4-a716-446655440000",
  "subject_id": "660e8400-e29b-41d4-a716-446655440001",
  "metadata": {
    "test_date": "2024-12-17T11:09:24+09:00",
    "subject_name": "Park Yongdoo",
    "research_id": "SUB-2024-057",
    "age": 57,
    "gender": "M",
    "height_cm": 176,
    "weight_kg": 70,
    "protocol_type": "BxB",
    "protocol_name": "Ramp Protocol",
    "test_type": "Maximal",
    "maximal_effort": "Unconfirmed",
    "test_duration": "00:23:59",
    "barometric_pressure": 764,
    "ambient_temp": 22.5,
    "ambient_humidity": 45
  },
  "phases": {
    "rest_end_sec": 180,
    "warmup_end_sec": 420,
    "exercise_end_sec": 1320,
    "peak_sec": 1320,
    "recovery_start_sec": 1320,
    "total_duration_sec": 1439
  },
  "summary": {
    "vo2_max": 3.45,
    "vo2_max_unit": "L/min",
    "vo2_max_rel": 49.3,
    "vo2_max_rel_unit": "mL/kg/min",
    "vo2_max_pred": 3.2,
    "vo2_max_percent_pred": 107.8,
    "vco2_max": 4.12,
    "vco2_max_unit": "L/min",
    "hr_max": 185,
    "hr_max_unit": "bpm",
    "hr_max_pred": 163,
    "hr_max_percent_pred": 113.5,
    "fat_max_hr": 145,
    "fat_max_watt": 180,
    "fat_max_g_min": 0.68,
    "mfo": 0.68,
    "fat_max_time_sec": 720,
    "rer_max": 1.19,
    "vt1_hr": 132,
    "vt1_vo2": 2.1,
    "vt1_watt": 140,
    "vt1_time_sec": 540,
    "vt2_hr": 165,
    "vt2_vo2": 2.95,
    "vt2_watt": 240,
    "vt2_time_sec": 960,
    "data_quality_score": 92.5
  },
  "timeseries": [
    {
      "time_sec": 0,
      "time_display": "00:00:00",
      "phase": "Rest",
      "rf": 23.62,
      "vt": 1.111,
      "ve": 26.244,
      "vo2": 805.4,
      "vco2": 622.3,
      "rer": 0.77,
      "hr": 111,
      "vo2_hr": 7.3,
      "bike_power": 0,
      "bike_torque": 0,
      "cadence": 0,
      "fat_oxidation": 0.35,
      "cho_oxidation": 0.12,
      "feo2": 16.8,
      "feco2": 4.2,
      "ve_vo2": 32.6,
      "ve_vco2": 42.2,
      "vo2_rel": 11.5,
      "mets": 3.3,
      "is_valid": true
    },
    {
      "time_sec": 3,
      "time_display": "00:00:03",
      "phase": "Rest",
      "rf": 22.56,
      "vt": 1.698,
      "ve": 38.301,
      "vo2": 1530.2,
      "vco2": 1161.0,
      "rer": 0.76,
      "hr": 111,
      "vo2_hr": 13.8,
      "bike_power": 0,
      "bike_torque": 0,
      "cadence": 0,
      "fat_oxidation": 0.62,
      "cho_oxidation": 0.22,
      "feo2": 16.5,
      "feco2": 4.5,
      "ve_vo2": 25.0,
      "ve_vco2": 33.0,
      "vo2_rel": 21.9,
      "mets": 6.3,
      "is_valid": true
    },
    {
      "time_sec": 180,
      "time_display": "00:03:00",
      "phase": "Rest",
      "rf": 18.4,
      "vt": 1.45,
      "ve": 26.68,
      "vo2": 920.5,
      "vco2": 750.2,
      "rer": 0.82,
      "hr": 95,
      "vo2_hr": 9.7,
      "bike_power": 0,
      "bike_torque": 0,
      "cadence": 0,
      "fat_oxidation": 0.28,
      "cho_oxidation": 0.15,
      "feo2": 16.9,
      "feco2": 4.0,
      "ve_vo2": 29.0,
      "ve_vco2": 35.6,
      "vo2_rel": 13.1,
      "mets": 3.8,
      "is_valid": true
    },
    {
      "time_sec": 420,
      "time_display": "00:07:00",
      "phase": "Warmup",
      "rf": 20.5,
      "vt": 1.85,
      "ve": 37.93,
      "vo2": 1450.3,
      "vco2": 1160.8,
      "rer": 0.80,
      "hr": 105,
      "vo2_hr": 13.8,
      "bike_power": 50,
      "bike_torque": 18.5,
      "cadence": 65,
      "fat_oxidation": 0.48,
      "cho_oxidation": 0.28,
      "feo2": 16.7,
      "feco2": 4.3,
      "ve_vo2": 26.2,
      "ve_vco2": 32.7,
      "vo2_rel": 20.7,
      "mets": 5.9,
      "is_valid": true
    },
    {
      "time_sec": 540,
      "time_display": "00:09:00",
      "phase": "Exercise",
      "rf": 22.8,
      "vt": 2.15,
      "ve": 49.02,
      "vo2": 2100.5,
      "vco2": 1638.0,
      "rer": 0.78,
      "hr": 132,
      "vo2_hr": 15.9,
      "bike_power": 140,
      "bike_torque": 32.5,
      "cadence": 72,
      "fat_oxidation": 0.76,
      "cho_oxidation": 0.45,
      "feo2": 16.4,
      "feco2": 4.6,
      "ve_vo2": 23.3,
      "ve_vco2": 29.9,
      "vo2_rel": 30.0,
      "mets": 8.6,
      "is_valid": true,
      "markers": ["VT1"]
    },
    {
      "time_sec": 720,
      "time_display": "00:12:00",
      "phase": "Exercise",
      "rf": 25.3,
      "vt": 2.45,
      "ve": 62.00,
      "vo2": 2580.0,
      "vco2": 2064.0,
      "rer": 0.80,
      "hr": 145,
      "vo2_hr": 17.8,
      "bike_power": 180,
      "bike_torque": 38.2,
      "cadence": 75,
      "fat_oxidation": 0.68,
      "cho_oxidation": 0.62,
      "feo2": 16.2,
      "feco2": 4.8,
      "ve_vo2": 24.0,
      "ve_vco2": 30.0,
      "vo2_rel": 36.9,
      "mets": 10.5,
      "is_valid": true,
      "markers": ["FATMAX"]
    },
    {
      "time_sec": 960,
      "time_display": "00:16:00",
      "phase": "Exercise",
      "rf": 32.5,
      "vt": 2.85,
      "ve": 92.63,
      "vo2": 2950.0,
      "vco2": 2714.0,
      "rer": 0.92,
      "hr": 165,
      "vo2_hr": 17.9,
      "bike_power": 240,
      "bike_torque": 45.8,
      "cadence": 78,
      "fat_oxidation": 0.38,
      "cho_oxidation": 1.15,
      "feo2": 15.8,
      "feco2": 5.2,
      "ve_vo2": 31.4,
      "ve_vco2": 34.1,
      "vo2_rel": 42.1,
      "mets": 12.0,
      "is_valid": true,
      "markers": ["VT2"]
    },
    {
      "time_sec": 1200,
      "time_display": "00:20:00",
      "phase": "Exercise",
      "rf": 38.2,
      "vt": 3.05,
      "ve": 116.51,
      "vo2": 3350.0,
      "vco2": 3685.0,
      "rer": 1.10,
      "hr": 178,
      "vo2_hr": 18.8,
      "bike_power": 290,
      "bike_torque": 52.3,
      "cadence": 80,
      "fat_oxidation": 0.15,
      "cho_oxidation": 1.85,
      "feo2": 15.4,
      "feco2": 5.6,
      "ve_vo2": 34.8,
      "ve_vco2": 31.6,
      "vo2_rel": 47.9,
      "mets": 13.7,
      "is_valid": true
    },
    {
      "time_sec": 1320,
      "time_display": "00:22:00",
      "phase": "Peak",
      "rf": 42.5,
      "vt": 3.15,
      "ve": 133.88,
      "vo2": 3450.0,
      "vco2": 4108.0,
      "rer": 1.19,
      "hr": 185,
      "vo2_hr": 18.6,
      "bike_power": 320,
      "bike_torque": 55.8,
      "cadence": 81,
      "fat_oxidation": 0.05,
      "cho_oxidation": 2.15,
      "feo2": 15.1,
      "feco2": 5.9,
      "ve_vo2": 38.8,
      "ve_vco2": 32.6,
      "vo2_rel": 49.3,
      "mets": 14.1,
      "is_valid": true,
      "markers": ["VO2MAX"]
    },
    {
      "time_sec": 1380,
      "time_display": "00:23:00",
      "phase": "Recovery",
      "rf": 35.8,
      "vt": 2.65,
      "ve": 94.87,
      "vo2": 2250.0,
      "vco2": 2475.0,
      "rer": 1.10,
      "hr": 172,
      "vo2_hr": 13.1,
      "bike_power": 50,
      "bike_torque": 18.2,
      "cadence": 60,
      "fat_oxidation": 0.08,
      "cho_oxidation": 1.45,
      "feo2": 15.6,
      "feco2": 5.4,
      "ve_vo2": 42.2,
      "ve_vco2": 38.3,
      "vo2_rel": 32.1,
      "mets": 9.2,
      "is_valid": true
    },
    {
      "time_sec": 1439,
      "time_display": "00:23:59",
      "phase": "Recovery",
      "rf": 28.5,
      "vt": 2.15,
      "ve": 61.28,
      "vo2": 1580.0,
      "vco2": 1422.0,
      "rer": 0.90,
      "hr": 155,
      "vo2_hr": 10.2,
      "bike_power": 0,
      "bike_torque": 0,
      "cadence": 0,
      "fat_oxidation": 0.25,
      "cho_oxidation": 0.65,
      "feo2": 16.3,
      "feco2": 4.7,
      "ve_vo2": 38.8,
      "ve_vco2": 43.1,
      "vo2_rel": 22.6,
      "mets": 6.5,
      "is_valid": true
    }
  ],
  "phase_summaries": {
    "rest": {
      "duration_sec": 180,
      "avg_hr": 102,
      "avg_vo2": 890.5,
      "avg_vo2_rel": 12.7,
      "avg_rer": 0.79,
      "avg_power": 0,
      "avg_fat_oxidation": 0.31,
      "avg_cho_oxidation": 0.14
    },
    "warmup": {
      "duration_sec": 240,
      "avg_hr": 118,
      "avg_vo2": 1680.0,
      "avg_vo2_rel": 24.0,
      "avg_rer": 0.79,„ÖÅ
      "avg_power": 75,
      "avg_fat_oxidation": 0.55,
      "avg_cho_oxidation": 0.35
    },
    "exercise": {
      "duration_sec": 900,
      "avg_hr": 155,
      "avg_vo2": 2650.0,
      "avg_vo2_rel": 37.9,
      "avg_rer": 0.89,
      "avg_power": 205,
      "avg_fat_oxidation": 0.42,
      "avg_cho_oxidation": 1.05
    },
    "peak": {
      "duration_sec": 60,
      "avg_hr": 183,
      "avg_vo2": 3450.0,
      "avg_vo2_rel": 49.3,
      "avg_rer": 1.17,
      "avg_power": 315,
      "avg_fat_oxidation": 0.06,
      "avg_cho_oxidation": 2.10
    },
    "recovery": {
      "duration_sec": 119,
      "avg_hr": 163,
      "avg_vo2": 1915.0,
      "avg_vo2_rel": 27.4,
      "avg_rer": 1.00,
      "avg_power": 25,
      "avg_fat_oxidation": 0.17,
      "avg_cho_oxidation": 1.05
    }
  },
  "markers": {
    "fatmax": {
      "time_sec": 720,
      "time_display": "00:12:00",
      "hr": 145,
      "vo2": 2580.0,
      "vo2_rel": 36.9,
      "watt": 180,
      "rer": 0.80,
      "fat_oxidation": 0.68,
      "description": "Maximal Fat Oxidation point"
    },
    "vo2max": {
      "time_sec": 1320,
      "time_display": "00:22:00",
      "hr": 185,
      "vo2": 3450.0,
      "vo2_rel": 49.3,
      "watt": 320,
      "rer": 1.19,
      "description": "VO2 Peak achieved"
    },
    "vt1": {
      "time_sec": 540,
      "time_display": "00:09:00",
      "hr": 132,
      "vo2": 2100.5,
      "vo2_rel": 30.0,
      "watt": 140,
      "rer": 0.78,
      "description": "First Ventilatory Threshold (Aerobic Threshold)"
    },
    "vt2": {
      "time_sec": 960,
      "time_display": "00:16:00",
      "hr": 165,
      "vo2": 2950.0,
      "vo2_rel": 42.1,
      "watt": 240,
      "rer": 0.92,
      "description": "Second Ventilatory Threshold (Anaerobic Threshold)"
    }
  },
  "cohort_comparison": {
    "age_group": "50-59",
    "gender": "M",
    "training_level": "Intermediate",
    "vo2_max_percentile": 65.5,
    "vo2_max_cohort_mean": 45.2,
    "vo2_max_cohort_median": 44.8,
    "fat_max_hr_percentile": 58.2,
    "fat_max_hr_cohort_mean": 142,
    "fat_max_hr_cohort_median": 140
  },
  "chart_config": {
    "recommended_x_axis": "time_sec",
    "x_axis_options": ["time_sec", "bike_power"],
    "primary_y_axis": ["hr", "vo2", "vco2"],
    "secondary_y_axis": ["rer", "fat_oxidation", "cho_oxidation"],
    "colors": {
      "hr": "#EF4444",
      "vo2": "#3B82F6",
      "vco2": "#10B981",
      "rer": "#A855F7",
      "fat_oxidation": "#F97316",
      "cho_oxidation": "#FBBF24",
      "bike_power": "#6B7280"
    },
    "phase_colors": {
      "Rest": "#E5E7EB",
      "Warmup": "#FEF3C7",
      "Exercise": "transparent",
      "Peak": "#FFEDD5",
      "Recovery": "#E5E7EB"
    },
    "marker_colors": {
      "FATMAX": "#10B981",
      "VO2MAX": "#EF4444",
      "VT1": "#3B82F6",
      "VT2": "#8B5CF6"
    }
  },
  "data_quality": {
    "total_points": 668,
    "valid_points": 662,
    "invalid_points": 6,
    "missing_hr": 0,
    "missing_vo2": 2,
    "missing_power": 0,
    "outliers_removed": 4,
    "smoothing_applied": true,
    "smoothing_window": 10,
    "quality_score": 92.5,
    "quality_notes": "Excellent data quality. Minor noise in early rest phase removed."
  },
  "calculation_methods": {
    "fat_cho_oxidation": "Frayn",
    "vo2max_detection": "30-second rolling average peak",
    "fatmax_detection": "Maximum fat oxidation during exercise phase",
    "phase_detection": "Bike power-based with HR confirmation",
    "threshold_detection": "V-slope method with VE/VO2 confirmation"
  }
}
